1839B - LampsLet's denote number of lamps with ai=k as ck. If ck≥k and you turn k lamps with ai=k lamps on, all ck of them will break and you will not be able to receive points for the other ck−k lamps. If we denote values bi for all i such that ai=k as dk,1,dk,2,…,dk,ck (dk,1≥dk,2≥…≥dk,ck), then you can't get more than sk=dk,1+dk,2+…+dk,min(ck,k) points for lamps with ai=k.So, the total number of points is not bigger than s1+s2+…+sn.This bound can always be achieved in the following way: while there is at least one lamp that is not turned on and not broken, turn on the one with minimum ai (if there are multiple lamps with minimum ai, choose the one with maximum bi).This works because if at least k lamps are turned on, then all lamps with ai<k are already broken.