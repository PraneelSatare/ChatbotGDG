{
    "solution": "1244B - Rooms and StaircasesIf there are no stairs, the best we can do is to visit all the rooms on the same floor, so the answer is n.Otherwise, the best course of action is to choose exactly one stair (let's denote its number by s) and do one of the following: either start from the leftmost room on the first floor, then use the stair and move to the leftmost room on the second floor, or do the same, but start and end in rightmost rooms instead of leftmost ones. Then for choosing the stair in room s, we get max(2s,2(n−s+1)) as the answer.Why is it optimal? Let's denote the leftmost stair as l, and the rightmost stair as r. There are four special segments of rooms such that if we enter them, we can't leave. These are: rooms [1…l−1] on the first floor, rooms [1…l−1] on the second floor, rooms [r+1…n] on the first floor and rooms [r+1…n] on the second floor. We can visit only two of them, if one contains the starting room and the other contains the ending room. So the answer cannot be greater than 2n−2min(l−1,n−r−1) — and our algorithm will give exactly this value either by choosing stair l, or by choosing the stair r. "
}