1504B - Flip the BitsLet's call a prefix legal if it contains an equal number of 0 and 1 symbols. The key observation is that applying operations never changes which prefixes are legal. In fact, suppose we apply an operation to a prefix of length i, and consider a prefix of length j. We want to show that if j was legal before, it remains legal. And if it wasn't legal, it won't become legal.  If j<i, then all bits in the length j prefix are inverted. The numbers of 0's and 1's swap, so it cannot change whether they are equal, and hence it cannot change whether j is legal.  If j≥i, then i/2 of the 0 symbols become 1 and i/2 of the 1 symbols become 0. So the numbers of both symbols do not change, so it cannot change whether j is legal. Using prefix sums, we can determine for each prefix whether it is legal.Consider an index i. If i=n and an≠bn, then we must flip the length n prefix at some point. If i<n and ai=bi, ai+1≠bi+1, or ai≠bi, ai+1=bi+1, then we must flip the length i prefix at some point. If we flip precisely these prefixes in any order, it will transform a into b. So we should simply check that every prefix that must be flipped is legal.Complexity is O(n).Implementation